pipeline {
    agent any

    stages {
        stage('Build') {
            steps {
                // Compilar el programa Java
                sh 'javac src/Main.java'
            }
        }
        stage('Test') {
            steps {
                 script {
                    def output = sh(script: 'java -cp src Main', returnStdout: true).trim()
                    if (output == "hola mundo,todo bien") {
                        echo "Test Passed: Output is as expected."
                    } else {
                        error "Test Failed: Output is '${output}' but expected 'hola mundo,todo bien'."
                    }
               
            }
        }
    }
}
}
