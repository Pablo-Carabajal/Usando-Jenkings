pipeline {
    agent any

    stages {
        stage('Build') {
            steps {
                // Compilar el programa Java
                sh 'javac src/Main.java'
            }
        }
        stage('Test') {
            steps {
                 script{
                // Ejecutar el programa y verificar la salida
                def mensaje = sh(script:"java -cp bin Main")

                if(mensaje ==="hola mundo,todo bien"){
                 echo "El mensaje esta correcto"
                }
                else{
                echo "El mensaje es incorrecto"
                }
                
                 }
               
            }
        }
    }
}
